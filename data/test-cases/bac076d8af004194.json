{"uid":"bac076d8af004194","name":"Create Inspection on Equipment & update the Nitrosamine Residue Verification details","fullName":"tests.scenarios.multi_production_protocol.inspection.test_multi_production_protocol_inspection.TestInspectionMultiProductionProtocol#test_update_nitrosamine_residue_verification_details_inspection","historyId":"3f5544401423e0f4fad59a411fade4a5","time":{"start":1712649277937,"stop":1712649288439,"duration":10502},"description":"This test case tests API to create an inspection on equipment and update the Nitrosamineresidue verification details and save the inspection","descriptionHtml":"<p>This test case tests API to create an inspection on equipment and update the Nitrosamineresidue verification details and save the inspection</p>\n","status":"broken","statusMessage":"TypeError: 'NoneType' object is not subscriptable","statusTrace":"self = <test_multi_production_protocol_inspection.TestInspectionMultiProductionProtocol object at 0x00000152E8FE5E50>\ninspection_setup_method = ({'acceptance_limit_dict': {'EQM-17/AA-1': 2, 'EQM-17/AA-2': 2, 'EQM-17/AA-3': 3, 'EQM-17/AA-4': 3, ...}, 'additional_... 'GreaterThan', 'value': 2}, 'swab': {'additionalInfo': '', 'enabled': True, 'rule': 'GreaterThan', 'value': 2}}, ...})\n\n    @allure.title(\"Create Inspection on Equipment & update the Nitrosamine Residue Verification details\")\n    @allure.description(\"This test case tests API to create an inspection on equipment and update the Nitrosamine\"\n                        \"residue verification details and save the inspection\")\n    @allure.link(\"https://app.clickup.com/t/86cu6mpx1\")\n    @pytest.mark.formulation\n    @pytest.mark.update_nitrosamine_residue_verification_details_inspection\n    def test_update_nitrosamine_residue_verification_details_inspection(self, inspection_setup_method):\n        inspection_data, equipment_info, protocol_equipment = inspection_setup_method\n        get_inspection = self.multi_production_study.get_single_study_details(inspection_data)[\"response\"]\n        get_inspection = json.loads(get_inspection)[\"result\"]\n        self.protocol_details.get_protocol_details(protocol_equipment)\n    \n        protocol_equipment.update({\"below_detection_limit\": True, \"below_quantitation_limit\": False})\n    \n        for external_id in protocol_equipment[\"equipment_external_id\"]:\n            if external_id == \"EQM-2\" or external_id == \"EQM-3\":\n                break_outer_loop = True\n                break\n            else:\n                break_outer_loop = False\n    \n            for i, equipment_item in enumerate(equipment_info):  # Define i using enumerate()\n                inspection_data.update({\"inspection_id\": get_inspection[\"inspections\"][i][\"id\"]})\n                inspection = \\\n                    json.loads(self.multi_production_inspection.get_inspection_detail(inspection_data)[\"response\"])[\n                        \"result\"]\n                protocol_equipment.update({\"inspection_type\": inspection[\"nitrosamines\"]})\n>               for residue in inspection[\"nitrosamines\"][\"residues\"]:\nE               TypeError: 'NoneType' object is not subscriptable\n\ntests\\scenarios\\multi_production_protocol\\inspection\\test_multi_production_protocol_inspection.py:617: TypeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login","time":{"start":1712647327079,"stop":1712647327378,"duration":299},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"get_facility","time":{"start":1712647327378,"stop":1712647327498,"duration":120},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0},{"name":"inspection_setup_method","time":{"start":1712648964991,"stop":1712649024549,"duration":59558},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0}],"afterStages":[],"labels":[{"name":"tag","value":"update_nitrosamine_residue_verification_details_inspection"},{"name":"tag","value":"formulation"},{"name":"tag","value":"inspection_multi_production_protocol"},{"name":"tag","value":"scenario"},{"name":"parentSuite","value":"tests.scenarios.multi_production_protocol.inspection"},{"name":"suite","value":"test_multi_production_protocol_inspection"},{"name":"subSuite","value":"TestInspectionMultiProductionProtocol"},{"name":"host","value":"DESKTOP-ESU2KLG"},{"name":"thread","value":"15348-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.scenarios.multi_production_protocol.inspection.test_multi_production_protocol_inspection"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"https://app.clickup.com/t/86cu6mpx1","url":"https://app.clickup.com/t/86cu6mpx1","type":"link"}],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["update_nitrosamine_residue_verification_details_inspection","scenario","formulation","inspection_multi_production_protocol"]},"source":"bac076d8af004194.json","parameterValues":[]}